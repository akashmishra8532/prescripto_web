import{j as e}from"./ui-DPH0Ivl9.js";import{r as t}from"./vendor-DvM9cOmr.js";import{A as s}from"./index-BeqSwC7l.js";import{a as r,B as a}from"./utils-BTPxR1Ie.js";import{a as n}from"./assets-DaHxpKbP.js";import{u as o}from"./router-CpF0eKKI.js";const i=()=>{const{backendUrl:i,token:l,setToken:c}=t.useContext(s),m=o(),[u,d]=t.useState("Sign Up"),[p,x]=t.useState(""),[g,f]=t.useState(""),[h,j]=t.useState("");return t.useEffect(()=>{l&&m("/")},[l]),e.jsx("form",{onSubmit:async e=>{e.preventDefault();try{if("Sign Up"===u){const{data:e}=await r.post(i+"/api/user/register",{name:h,password:g,email:p});e.success?(localStorage.setItem("token",e.token),c(e.token)):a.error(e.message)}else{const{data:e}=await r.post(i+"/api/user/login",{password:g,email:p});e.success?(localStorage.setItem("token",e.token),c(e.token)):a.error(e.message)}}catch(t){a.error(t.message)}},className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-sm rounded-2xl shadow-xl transition-all duration-300 hover:shadow-2xl flex flex-col gap-5",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("img",{src:n.logo,alt:"logo",className:"w-28"})}),e.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800",children:"Sign Up"===u?"Create Account":"Welcome Back!"}),e.jsx("p",{className:"text-center text-gray-500 text-sm mb-4",children:"Sign Up"===u?"Sign up to book appointments":"Login to continue"}),"Sign Up"===u&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:outline-none transition text-sm",onChange:e=>j(e.target.value),value:h,placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:outline-none transition text-sm",onChange:e=>x(e.target.value),value:p,placeholder:"yourname@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:outline-none transition text-sm",onChange:e=>f(e.target.value),value:g,placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-white rounded-full font-medium shadow-md hover:bg-blue-700 transition-all duration-300 text-sm",children:"Sign Up"===u?"Create Account":"Login"}),e.jsx("div",{className:"mt-3 text-center text-gray-600 text-sm",children:"Sign Up"===u?e.jsxs("p",{children:["Already have an account?"," ",e.jsx("span",{onClick:()=>d("Login"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Log in here"})]}):e.jsxs("p",{children:["Need an account?"," ",e.jsx("span",{onClick:()=>d("Sign Up"),className:"text-primary font-medium cursor-pointer hover:underline",children:"Sign up here"})]})})]})})};export{i as default};
