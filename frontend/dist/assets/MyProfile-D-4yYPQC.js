import{j as e}from"./ui-DPH0Ivl9.js";import{r as s}from"./vendor-DvM9cOmr.js";import{A as a}from"./index-BeqSwC7l.js";import{a as r}from"./assets-DaHxpKbP.js";import{a as l,B as o}from"./utils-BTPxR1Ie.js";import"./router-CpF0eKKI.js";const n=()=>{const{userData:n,setUserData:t,token:d,backendUrl:i,loadUserProfileData:c}=s.useContext(a),[m,u]=s.useState(!1),[g,p]=s.useState(null);return n&&e.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-lg rounded-xl flex flex-col gap-6 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[m?e.jsxs("label",{htmlFor:"image",children:[e.jsxs("div",{className:"relative cursor-pointer hover:opacity-80 transition-all",children:[e.jsx("img",{className:"w-36 h-36 object-cover rounded-full border-4 border-blue-300 shadow-md",src:g?URL.createObjectURL(g):n.image,alt:"Profile"}),e.jsx("img",{className:"w-10 absolute bottom-2 right-2 bg-white rounded-full p-1 shadow",src:r.upload_icon,alt:"Upload"})]}),e.jsx("input",{onChange:e=>p(e.target.files[0]),type:"file",id:"image",accept:"image/*",hidden:!0})]}):e.jsx("img",{className:"w-36 h-36 object-cover rounded-full border-4 border-blue-300 shadow-md",src:n.image,alt:"Profile"}),m?e.jsx("input",{className:"bg-gray-50 text-2xl font-semibold text-center mt-4 border-b-2 border-blue-400 focus:outline-none focus:border-blue-500 transition-all",type:"text",value:n.name,onChange:e=>t(s=>({...s,name:e.target.value}))}):e.jsx("p",{className:"font-semibold text-2xl text-neutral-800 mt-4",children:n.name})]}),e.jsx("hr",{className:"border-t border-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold underline mt-3 mb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-[1fr_3fr] gap-y-3",children:[e.jsx("p",{className:"font-semibold",children:"Email:"}),e.jsx("p",{className:"text-blue-600",children:n.email}),e.jsx("p",{className:"font-semibold",children:"Phone:"}),m?e.jsx("input",{className:"bg-gray-100 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400",type:"text",value:n.phone,onChange:e=>t(s=>({...s,phone:e.target.value}))}):e.jsx("p",{className:"text-blue-500",children:n.phone}),e.jsx("p",{className:"font-semibold",children:"Address:"}),m?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{className:"bg-gray-50 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400",onChange:e=>t(s=>({...s,address:{...s.address,line1:e.target.value}})),value:n.address.line1,type:"text",placeholder:"Line 1"}),e.jsx("input",{className:"bg-gray-50 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400",onChange:e=>t(s=>({...s,address:{...s.address,line2:e.target.value}})),value:n.address.line2,type:"text",placeholder:"Line 2"})]}):e.jsxs("p",{className:"text-gray-500",children:[n.address.line1,e.jsx("br",{}),n.address.line2]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold underline mt-3 mb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-[1fr_3fr] gap-y-3",children:[e.jsx("p",{className:"font-semibold",children:"Gender:"}),m?e.jsxs("select",{className:"bg-gray-100 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400",onChange:e=>t(s=>({...s,gender:e.target.value})),value:n.gender,children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}):e.jsx("p",{className:"text-gray-500",children:n.gender}),e.jsx("p",{className:"font-semibold",children:"Birthday:"}),m?e.jsx("input",{className:"bg-gray-100 rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-400",type:"date",onChange:e=>t(s=>({...s,dob:e.target.value})),value:n.dob}):e.jsx("p",{className:"text-gray-500",children:n.dob})]})]}),e.jsx("div",{className:"mt-8 text-center",children:m?e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-8 py-3 rounded-full font-semibold hover:from-indigo-500 hover:to-blue-500 transition-all transform hover:scale-105",onClick:async()=>{try{const e=new FormData;e.append("name",n.name),e.append("phone",n.phone),e.append("address",JSON.stringify(n.address)),e.append("gender",n.gender),e.append("dob",n.dob),g&&e.append("image",g);const{data:s}=await l.post(i+"/api/user/update-profile",e,{headers:{token:d}});s.success?(o.success(s.message),await c(),u(!1),p(null)):o.error(s.message)}catch(e){o.error(e.message)}},children:"Save Information"}):e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-8 py-3 rounded-full font-semibold hover:from-indigo-500 hover:to-blue-500 transition-all transform hover:scale-105",onClick:()=>u(!0),children:"Edit Profile"})})]})};export{n as default};
